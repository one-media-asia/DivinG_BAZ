{% extends "base.html" %}

{% block title %}Diver Details - Diving Administration{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
    <h1 style="color: white;">{{ diver.first_name }} {{ diver.last_name }}</h1>
    <a href="{{ url_for('divers') }}" style="color: white; text-decoration: none; background: rgba(255,255,255,0.2); padding: 0.75rem 1.5rem; border-radius: 5px;">‚Üê Back</a>
</div>

<div class="card">
    <h2 style="margin-bottom: 1.5rem;">Edit Diver Info</h2>
    <form method="POST" action="{{ url_for('edit_diver', diver_id=diver.id) }}">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <div class="form-group">
                <label for="first_name">First Name</label>
                <input type="text" id="first_name" name="first_name" value="{{ diver.first_name }}">
            </div>
            <div class="form-group">
                <label for="last_name">Last Name</label>
                <input type="text" id="last_name" name="last_name" value="{{ diver.last_name }}">
            </div>
            <div class="form-group">
                <label for="certification_level">Certification Level</label>
                <input type="text" id="certification_level" name="certification_level" value="{{ diver.certification_level or '' }}">
            </div>
            <div class="form-group">
                <label for="experience_dives">Logged Dives</label>
                <input type="number" id="experience_dives" name="experience_dives" value="{{ diver.experience_dives or 0 }}">
            </div>
            <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" id="phone" name="phone" value="{{ diver.phone or '' }}">
            </div>
            <div class="form-group">
                <label for="emergency_contact">Emergency Contact</label>
                <input type="text" id="emergency_contact" name="emergency_contact" value="{{ diver.emergency_contact or '' }}">
            </div>
        </div>
        <button type="submit">Update Diver</button>
    </form>
</div>

<div class="card">
    <h2 style="margin-bottom: 1.5rem;">Equipment</h2>
    {% if equipment %}
    <table>
        <thead>
            <tr>
                <th>Type</th>
                <th>Brand</th>
                <th>Model</th>
                <th>Serial Number</th>
                <th>Condition</th>
            </tr>
        </thead>
        <tbody>
            {% for eq in equipment %}
            <tr>
                <td>{{ eq.equipment_type }}</td>
                <td>{{ eq.brand or 'N/A' }}</td>
                <td>{{ eq.model or 'N/A' }}</td>
                <td>{{ eq.serial_number or 'N/A' }}</td>
                <td>{{ eq.condition }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="color: #999;">No equipment registered for this diver.</p>
    {% endif %}
</div>
{% endblock %}
